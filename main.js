!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);function o(e,t){const n=function e(t,n){const o=Object.keys(t);let l;for(let r=0;r<o.length;r+=1){l=[];const a=o[r];if(a===n)return[...l,n];if("object"==typeof t[a]&&null!==t[a]&&(l.push(a),l=[...l,...e(t[a],n)],l[l.length-1]===n))return l}return l&&l.length?l:[n]}(e,t);return e[t]?e[t]:n.reduce((e,t)=>e[t],e)}function l(e){const t=JSON.parse(window.localStorage.getItem("my-todo"))||{};return e?o(t,e):t}function r(e,t){const n=l(),o=e.split(".").map(e=>e.trim()),r=o.pop()||e;let a=null;var i;o.forEach(e=>{n[e]||(n[e]={}),a=n[e]}),a?a[r]=t:n[r]=t,i=n,window.localStorage.setItem("my-todo",JSON.stringify(i))}function a(e,t,n,o,...l){let r=null;try{r=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElement! Give a proper tag name")}return t&&r.classList.add(...t.split(" ")),n&&Array.isArray(n)?n.forEach(e=>e&&r.appendChild(e)):n&&"object"==typeof n?r.appendChild(n):n&&"string"==typeof n&&(r.innerHTML=n),o&&o.appendChild(r),l.length&&l.forEach(([e,t])=>{""===t&&r.setAttribute(e,""),e.match(/style|disabled|aria|value|id|placeholder|cols|rows|autocorrect|spellcheck/)?r.setAttribute(e,t):r.dataset[e]=t}),r}function i({id:e,title:t,text:n,timestamp:o,priority:l,completed:r,color:i}){const c=n.replace(/(.*)<(.*)>(.*)/g,"$1$&lg;$2&gt;$3"),s=new Date(o);return a("li","list-group-item d-flex w-100 mb-2",[a("div","w-100 mr-2",[a("div","d-flex w-100 justify-content-between",[a("h5","mb-1",t,null,["style","color: "+i]),a("div","mb-1",[a("small","mr-2",l),a("small","",`${s.getHours().toString().padStart(2,"0")}:${s.getMinutes().toString().padStart(2,"0")}\n           ${s.getDate().toString().padStart(2,"0")}.${s.getMonth().toString().padStart(2,"0")}.${s.getFullYear()}`)])]),a("p","mb-1 w-100",c)]),a("div","dropdown m-2 dropleft",[a("button","btn btn-secondary h-100",[a("i","fas fa-ellipsis-v",null,null,["aria-hidden","true"])],null,["type","button"],["id","dropdownMenuItem1"],["toggle","dropdown"],["aria-haspopup","true"],["aria-expanded","false"]),a("div","dropdown-menu p-2 flex-column",[a("button","btn btn-success w-100","Complete",null,["type","button"],["data-id",e],["action","complete"]),a("button","btn btn-info w-100 my-2","Edit",null,["type","button"],["data-id",e],["action","edit"],r&&!0===r?["disabled","true"]:[""]),a("button","btn btn-danger w-100","Delete",null,["type","button"],["data-id",e],["action","delete"])],null,["aria-labelledby","dropdownMenuItem1"])])])}var c={save:function(e){const{id:t}=e.dataset,n=l("active"),o=e.closest("form"),a=o.elements[1].value,i=o.elements[2].value,c=o.elements[3].value,s=o.elements[4].querySelector("input:checked");return a&&i&&s?(n[t].title=a,n[t].text=i,n[t].color=c,n[t].priority=s.value,r("active",n),o.reset(),window.$("#exampleModal2").modal("hide"),!0):alert("You must fill all fields")},edit:function(e,t){const{title:n,text:o,priority:l,color:r}=t[e],a=document.getElementById("edit-form");a.elements[1].value=n,a.elements[2].value=o,a.elements[3].value=r,a.elements[4].querySelector(`[data-id=${l}]`).checked=!0,a.elements[9].dataset.id=e,window.$("#exampleModal2").modal("show")},complete:function(e){const t=l("active")||{},n=t[e];if(n){delete t[e],r("active",t);const o=l("completed")||{};n.completed=!0,o[e]=n,r("completed",o)}},add:function(e){const t=e.closest("form"),n=t.elements[1].value,o=t.elements[2].value,a=t.elements[3].value,i=t.elements[4].querySelector("input:checked");if(!n||!o||!i)return alert("You must fill all fields");let c=l("active");c||(c={});const s=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length;for(let l=0;l<e;l+=1)t+=n.charAt(Math.floor(Math.random()*o));return t}(9);return c[s]={id:s,title:n,text:o,priority:i.value,color:a,timestamp:Date.now()},r("active",c),t.reset(),window.$("#exampleModal").modal("hide"),!0},delete:function(e){const t=l("active");delete t[e];const n=l("completed");delete n[e],r("active",t),r("completed",n)},sort:function(e){const t=l("active"),n=l("completed");let o,r;switch(e){case"asc":o=t&&Object.entries(t).sort((e,t)=>e[1].timestamp-t[1].timestamp),r=n&&Object.entries(n).sort((e,t)=>e[1].timestamp-t[1].timestamp);break;case"desc":o=t&&Object.entries(t).sort((e,t)=>t[1].timestamp-e[1].timestamp),r=n&&Object.entries(n).sort((e,t)=>t[1].timestamp-e[1].timestamp)}return[o,r]},color:function(e){const t=l("app-colors")||{};t.bg=e.elements[0].value,t.color=e.elements[1].value,document.body.style.backgroundColor=t.bg,document.body.style.color=t.color,r("colors",t)}};const s=document.getElementById("currentTasks"),d=document.getElementById("completedTasks"),u=l("colors")||{};document.body.style.backgroundColor=u.bg,document.body.style.color=u.color;let m={},p={},f=[],b=[];function g(e){if(s.innerHTML=null,d.innerHTML=null,m=l("active"),p=l("completed"),e){const[t,n]=e;f=t,b=n}else f=[],b=[];m&&Object.keys(m).length?(Object.values(m).forEach((e,t)=>{if(!e.completed){const n=i(f.length?f[t][1]:e);e.html=n,s.appendChild(n)}}),document.getElementById("todo-title").firstElementChild.innerHTML=` (${Object.keys(m).length})`):(document.getElementById("todo-title").firstElementChild.innerHTML=null,s.innerHTML='<li class="list-group-item d-flex w-100 mb-2">There is no active tasks yet</li>'),p&&Object.keys(p).length?(Object.values(p).forEach((e,t)=>{if(e.completed){const n=i(b.length?b[t][1]:e);e.html=n,d.appendChild(n)}}),document.getElementById("completed-title").firstElementChild.innerHTML=` (${Object.keys(p).length})`):(document.getElementById("completed-title").firstElementChild.innerHTML=null,d.innerHTML='<li class="list-group-item d-flex w-100 mb-2">There is no completed tasks yet</li>');const t=l("colors")||{},n=document.getElementById("app-colors");n.elements[0].value=t.bg,n.elements[1].value=t.color}document.addEventListener("click",e=>{if("BUTTON"===e.target.tagName||e.target.closest("button")){e.preventDefault();const t="BUTTON"===e.target.tagName?e.target:e.target.closest("button");if(t.dataset.action){const{action:e}=t.dataset;let n;switch(e){case"complete":case"edit":return c[t.dataset.action](t.dataset.id,m),g();case"save":return c[t.dataset.action](t),g();case"delete":return c[t.dataset.action](t.dataset.id),g();case"sort":return n=c[t.dataset.action](t.dataset.direction),g(n);case"color":return n=c[t.dataset.action](t.closest("form")),g(n)}c[t.dataset.action](t),g()}}}),g()}]);
//# sourceMappingURL=main.js.map